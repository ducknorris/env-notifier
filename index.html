<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Rack::EnvNotifier by ducknorris</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Rack::EnvNotifier</h1>
        <h2>Middleware that displays the custom notification for every html page. Designed to work both in production and in development.</h2>
        <a href="https://github.com/ducknorris/rack-env-notifier" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="rackenvnotifier-" class="anchor" href="#rackenvnotifier-"><span class="octicon octicon-link"></span></a>Rack::EnvNotifier <a href="https://travis-ci.org/ducknorris/rack-env-notifier"><img src="https://secure.travis-ci.org/ducknorris/rack-env-notifier.png" alt="Build Status"></a>
</h1>

<p><a href="https://codeclimate.com/github/ducknorris/rack-env-notifier"><img src="https://codeclimate.com/github/ducknorris/rack-env-notifier.png" alt="Code Climate"></a> <a href="https://gemnasium.com/ducknorris/rack-env-notifier"><img src="https://gemnasium.com/ducknorris/rack-env-notifier.png" alt="Dependency Status"></a> <a href="http://badge.fury.io/rb/rack-env-notifier"><img src="https://badge.fury.io/rb/rack-env-notifier.png" alt="Gem Version"></a></p>

<p>Middleware that displays the custom notification for every html page. Designed to work both in production and in development.</p>

<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'rack-env-notifier'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install rack-env-notifier
</code></pre>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>For Rails add use the middleware in application.rb:</p>

<pre><code>config.middleware.use Rack::EnvNotifier
</code></pre>

<p>Rack::EnvNotifier can display a custom notification on every html page. It can be configured:</p>

<pre><code>Rack::EnvNotifier.notify = Rails.env.production?
</code></pre>

<p>or</p>

<pre><code>Rack::EnvNotifier.notify = true if ["12.34.56.78", "127.0.0.1"].include?(request.remote_ip)
</code></pre>

<h3>
<a name="there-are-several-configuration-options" class="anchor" href="#there-are-several-configuration-options"><span class="octicon octicon-link"></span></a>There are several configuration options</h3>

<h4>
<a name="position-on-screen" class="anchor" href="#position-on-screen"><span class="octicon octicon-link"></span></a>Position on screen</h4>

<p>The notification message is wrapped by <code>#env-notifer</code> CSS ID. This can be customized using custom CSS.</p>

<p>To disable default CSS and use a custom one, configure the initializer:</p>

<pre><code>Rack::EnvNotifier.custom_css = true
</code></pre>

<p>and define the custom CSS:</p>

<pre><code>#env-notifier {
  font-size: 16px;
}

/* Rack::EnvNotifier.message = 'development' */

#env-notifier.development {
  background: #369;
  color: #fff;
}

/* Rack::EnvNotifier.message = 'watch out! production environment!!!' */

#env-notifier.watch-out-production-environment {
  background: #8a0000;
  color: #fff;
  font-weight: bold;
}
</code></pre>

<h4>
<a name="notification-message" class="anchor" href="#notification-message"><span class="octicon octicon-link"></span></a>Notification message</h4>

<pre><code>Rack::EnvNotifier.message = "development mode"
</code></pre>

<p>The default message is configured in the initializer:</p>

<pre><code>case Rails.env
when "development"
  Rack::EnvNotifier.message = "safe environment"
when "staging"
  Rack::EnvNotifier.message = "qa environment"
else
  Rack::EnvNotifier.message = "hot environment"
end
</code></pre>

<h3>
<a name="rails-sample-initializer" class="anchor" href="#rails-sample-initializer"><span class="octicon octicon-link"></span></a>Rails Sample Initializer</h3>

<pre><code>if Rails.env.development?
  Rack::EnvNotifier.notify = true
  Rack::EnvNotifier.message = 'Dev'
end
</code></pre>

<h2>
<a name="preview" class="anchor" href="#preview"><span class="octicon octicon-link"></span></a>Preview</h2>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview1.png" alt="alt tag"></p>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview2.png" alt="alt tag"></p>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview3.png" alt="alt tag"></p>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview4.png" alt="alt tag"></p>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview5.png" alt="alt tag"></p>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview6.png" alt="alt tag"></p>

<p><img src="https://rack-env-notifier.s3.amazonaws.com/assets/preview7.png" alt="alt tag"></p>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Thanks to our <a href="https://github.com/ducknorris/rack-env-notifier/graphs/contributors">contributors</a>.</p>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol><h4>
<a name="inspired-by-harleyttd--miniprofiler" class="anchor" href="#inspired-by-harleyttd--miniprofiler"><span class="octicon octicon-link"></span></a>Inspired by <a href="https://github.com/harleyttd/miniprofiler/">harleyttd / miniprofiler</a>.</h4>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/ducknorris/rack-env-notifier/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/ducknorris/rack-env-notifier/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/ducknorris/rack-env-notifier"></a> is maintained by <a href="https://github.com/ducknorris">ducknorris</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-44094152-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>